database:
  driver: "sqlite"
  source: "simhub.db"

minio:
  endpoint: "127.0.0.1:9000"
  access_key: "minioadmin"
  secret_key: "minioadmin"
  use_ssl: false
  bucket: "simhub-raw"

resource_types:
  - type_key: "map_terrain"
    type_name: "地形图 (TIF)"
    schema_def:
      type: "object"
      properties:
        resolution:
          type: "string"
    viewer_conf:
      component: "CesiumViewer"
      mode: "2D"
    process_conf:
      pipeline: ["gdal_retile"]
    category_mode: "tree"
  - type_key: "model_glb"
    type_name: "3D 模型 (GLB)"
    schema_def:
      type: "object"
      properties:
        poly_count:
          type: "integer"
    viewer_conf:
      component: "ThreeViewer"
    process_conf:
      pipeline: ["model_optimizer"]
    category_mode: "tree"
  - type_key: "scenario"
    type_name: "仿真想定 (ZIP)"
    schema_def:
      type: "object"
      properties:
        engine:
          type: "string"
    category_mode: "flat"
  - type_key: "spectrum_rule"
    type_name: "电磁频谱资源库 (JSON)"
    schema_def:
      type: "object"
      required: ["center_freq", "bandwidth", "modulation"]
      properties:
        center_freq:
          type: "number"
          description: "中心频率 (MHz)"
        bandwidth:
          type: "number"
          description: "带宽 (MHz)"
        modulation:
          type: "string"
          enum: ["FM", "AM", "QPSK", "BPSK"]
          description: "调制方式"
    viewer_conf:
      component: "JsonTreeViewer"
    category_mode: "tree"
  - type_key: "test_db"
    type_name: "测试资源库 (DEMO)"
    schema_def:
      type: "object"
      required: ["test_name", "category_select"]
      properties:
        test_name:
          type: "string"
          description: "标准文本输入"
        test_desc:
          type: "string"
          format: "textarea"
          description: "长文本描述 (Textarea)"
        score:
          type: "integer"
          description: "评分 (自定义组件)"
          x-component: "ScoreRater"
        item_count:
          type: "number"
          description: "计数器 (Number)"
        is_enabled:
          type: "boolean"
          description: "状态开关 (Switch)"
        category_select:
          type: "string"
          description: "单选下拉 (Enum Select)"
          enum: ["选项一", "选项二", "选项三", "其他"]
        importance:
          type: "integer"
          description: "重要性 (数字枚举)"
          enum: [1, 5, 10]
        constrained_num:
          type: "number"
          description: "带约束的数字 (0-100, 精度2)"
          minimum: 0
          maximum: 100
          step: 0.5
          precision: 2
        status:
          type: "integer"
          description: "数据状态 (数值映射演示)"
          x-enum-options:
            - label: "草稿 (0)"
              value: 0
            - label: "已发布 (1)"
              value: 1
            - label: "已归档 (2)"
              value: 2
    category_mode: "tree"

log:
  level: "info"
  filename: "simhub-api.log"
  max_size: 100
  max_backups: 3
  max_age: 28
  compress: true
  format: "text"

nats:
  enabled: true
  url: "nats://localhost:4222"
  subject: "simhub.jobs"
