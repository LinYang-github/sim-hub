database:
  driver: "sqlite"
  source: "simhub.db"

minio:
  endpoint: "localhost:9000"
  access_key: "minioadmin"
  secret_key: "minioadmin"
  use_ssl: false
  bucket: "simhub-raw"

resource_types:
  - type_key: "map_terrain"
    type_name: "地形图 (TIF)"
    schema_def:
      type: "object"
      properties:
        resolution:
          type: "string"
    viewer_conf:
      component: "CesiumViewer"
      mode: "2D"
    process_conf:
      pipeline: ["gdal_retile"]
    category_mode: "tree"
  - type_key: "model_glb"
    type_name: "3D 模型 (GLB)"
    schema_def:
      type: "object"
      properties:
        poly_count:
          type: "integer"
    viewer_conf:
      component: "ThreeViewer"
    process_conf:
      pipeline: ["model_optimizer"]
    category_mode: "tree"
  - type_key: "scenario"
    type_name: "仿真想定 (ZIP)"
    schema_def:
      type: "object"
      properties:
        engine:
          type: "string"
    category_mode: "flat"

log:
  level: "info"
  filename: "simhub-api.log"
  max_size: 100
  max_backups: 3
  max_age: 28
  compress: true
  format: "text"

nats:
  enabled: true
  url: "nats://localhost:4222"
  subject: "simhub.jobs"
