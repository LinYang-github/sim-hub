# SimHub 待办事项与进阶计划 (TODO & Roadmap)

本项目旨在建立一个高性能、全嵌入式的仿真资源管理平台。以下是当前已识别的关键技术演进方向：

## 1. 核心治理：资源版本与依赖管理 (高优先级)

为了确保仿真环境的可重复性和资源的一致性，需引入类似软件版本管理的治理机制。

### 1.1 资源版本化 (Versioning)
- [x] **语义化版本 (SemVer)**：实现 `vM.m.p` 格式的版本标记，用于识别不兼容变更。
- [ ] **生命周期流转**：为每个版本增加状态定义：`Draft` (编辑中) -> `Published` (生产可用) -> `Deprecated` (已弃用)。
- [x] **快照与回溯**：支持对特定版本的物理资产（Minio 路径）进行冻结，防止覆盖历史实验数据。 (通过多版本共存实现)
- [ ] **默认引用策略**：在 API 中支持 `latest` 标签，自动指向最新的 Published 版本。

### 1.2 资源间依赖管理 (Dependency Management)
- [x] **依赖项建模**：新增依赖关联表，记录资源版本间的强关联。
- [x] **版本约束支持**：支持范围匹配（如 `^1.2.0`）和强锁定。 (后端已入库 Constraint 字段)
- [ ] **完整性校验**：上传/发布资源时，自动扫描并报告缺失的依赖项。
- [x] **依赖图解析**：实现递归解析依赖图，支持获取完整依赖树 API。

---

## 2. 领域扩展：业务模块深化

- [ ] **高程地形应用 (Terrain)**
  - [ ] 实现地形切片的异步加载与 3D 预览能力。
  - [ ] 对接后端分片上传 API 处理超大体积数据。
- [ ] **通信协议 SDK 化**
  - [ ] 完善 `SimHubBridge.ts`，为第三方模块提供无缝接入的 JS SDK。
  - [ ] 增加权限透传、多语言同步、全局 Loading 拦截等功能。

---

## 3. 工程化与交付

- [ ] **容器化方案**：编写多阶段构建 Dockerfile，实现“前端编译+后端编译+精简运行环境”的一键打包。
- [ ] **环境检测脚本**：建立 `healthcheck` 机制，自动检测 SQLite、MinIO 和 NATS 的连接状态。
- [ ] **多环境适配**：将 `local.yaml` 的关键配置（端口、密钥）支持通过环境变量动态覆盖。

---

## 4. 深度架构预研

- [ ] **性能优化**：对于大规模依赖图，研究基于内存的 DAG（有向无环图）缓存计算逻辑。
- [ ] **运行时切换**：探索从 Iframe 切换到微前端渲染（如 qiankun）以消除 UI 切换时的白屏感。
